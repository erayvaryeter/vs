define("functionsViewModel",["diagnosticsHub","diagnosticsHub-swimlanes","diagnosticsHub-ui","knockout","plugin-vs-v2"],((e,t,i,n,r)=>{return o={136:e=>{const t=document.createElement("script");t.id="FilterView",t.innerHTML=atob("PCFET0NUWVBFIGh0bWw+DQo8ZGl2IGNsYXNzPSJjb250YWluZXIgYXV0b2NvbXBsZXRlLWNvbnRhaW5lciI+DQogICAgPGlucHV0IGNsYXNzPSJmaWx0ZXIiIHR5cGU9InNlYXJjaCIgZGF0YS1iaW5kPSINCiAgICAgICAgICAgdGV4dElucHV0OiBmaWx0ZXJUZXh0LA0KICAgICAgICAgICB2YWx1ZVVwZGF0ZTogJ2FmdGVya2V5ZG93bicsDQogICAgICAgICAgIGxvY2FsaXplZFRvb2x0aXA6IGZpbHRlcldhdGVybWFyaywNCiAgICAgICAgICAgbG9jYWxpemVkUGxhY2Vob2xkZXJUZXh0OiBmaWx0ZXJXYXRlcm1hcmssDQogICAgICAgICAgIGxvY2FsaXplZEFyaWFMYWJlbDogZmlsdGVyV2F0ZXJtYXJrIiAvPg0KPC9kaXY+"),t.type="text/html",document.head.appendChild(t),e.exports={}},926:e=>{const t=document.createElement("script");t.id="FunctionsRowView",t.innerHTML=atob("PHRyIGNsYXNzPSJ0cmVlR3JpZFJvdyIgcm9sZT0icm93IiB0YWJpbmRleD0iLTEiIGRhdGEtYmluZD0iDQogICAgdHJlZUdyaWRSb3dGb2N1czogJHBhcmVudC5mb2N1c2VkUm93KCkgPT09ICRkYXRhLA0KICAgIGNzczogeyBzZWxlY3RlZDogc2VsZWN0ZWQoKSB9IiwNCiAgICBhdHRyPSIgJ2FyaWEtbGV2ZWwnOiBkZXB0aCArIDEiPg0KICAgIDx0ZCByb2xlPSJncmlkY2VsbCIgY2xhc3M9ImZ1bmN0aW9uIiBkYXRhLWNvbHVtbmlkPSJmdW5jdGlvbk5hbWUiPg0KICAgICAgICA8c3BhbiBkYXRhLWJpbmQ9InJvd0luZGVudDogZGVwdGgiPiZuYnNwOzwvc3Bhbj4NCiAgICAgICAgPGRpdiBkYXRhLWJpbmQ9InRyZWVHcmlkRXhwYW5kZXI6IGV4cGFuZGVkLCBzdHlsZTogeyB2aXNpYmlsaXR5OiBoYXNDaGlsZHJlbiA/ICd2aXNpYmxlJyA6ICdoaWRkZW4nIH0iPjwvZGl2Pg0KICAgICAgICA8ZGl2IGNsYXNzPSJob3RIaWdobGlnaHQiIGRhdGEtYmluZD0iY3NzOiB7IGhvdEl0ZW06IGlzSG90SXRlbSB9Ij48L2Rpdj4NCiAgICAgICAgPHNwYW4gZGF0YS1iaW5kPSJ0ZXh0OiBmdW5jdGlvbk5hbWUiPjwvc3Bhbj4NCiAgICA8L3RkPg0KDQogICAgPHRkIHJvbGU9ImdyaWRjZWxsIiBkYXRhLWNvbHVtbmlkPSJ0aW1lIj4NCiAgICAgICAgPGRpdiBjbGFzcz0iZHVyYXRpb24tY29udGFpbmVyIj4NCiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJkdXJhdGlvbi1tZXRyaWNzIiBkYXRhLWJpbmQ9Ig0KICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxpemVkVGV4dDogWydNZXRyaWNzQW5kUGVyY2VudCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9jYWxpemVOdW1iZXIoDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdjdHIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6ICdkZWNpbWFsJywgbWF4aW11bUZyYWN0aW9uRGlnaXRzOjMsIG1pbmltdW1GcmFjdGlvbkRpZ2l0czogMyB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3Y3RyUGVyY2VudGFnZQ0KICAgICAgICAgICAgXSI+PC9zcGFuPg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0icGVyY2VudGFnZS1iYXIiIGRhdGEtYmluZD0ic3R5bGU6IHsgd2lkdGg6IHNjYWxlZFdDVFJQZXJjZW50YWdlICsgJyUnIH0iPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgIDwvZGl2Pg0KICAgIDwvdGQ+DQogICAgPHRkIHJvbGU9ImdyaWRjZWxsIiBjbGFzcz0iY291bnQgaGVhZGVyIiBkYXRhLWJpbmQ9InRleHQ6IGZvcmNlaW5saW5lU2l6ZSIgZGF0YS1jb2x1bW5pZD0iZm9yY2VpbmxpbmVTaXplIj4NCiAgICA8L3RkPg0KICAgIDx0ZCByb2xlPSJncmlkY2VsbCIgY2xhc3M9InByb2plY3QgaGVhZGVyIiBkYXRhLWJpbmQ9InRleHQ6IHByb2plY3QiIGRhdGEtY29sdW1uaWQ9InByb2plY3QiPg0KICAgIDwvdGQ+DQogICAgPHRkIHJvbGU9ImdyaWRjZWxsIiBjbGFzcz0iZmlsZSIgZGF0YS1iaW5kPSJ0ZXh0OiBmaWxlUGF0aCIgZGF0YS1jb2x1bW5pZD0iZmlsZVBhdGgiPg0KICAgIDwvdGQ+DQo8L3RyPg=="),t.type="text/html",document.head.appendChild(t),e.exports={}},996:e=>{const t=document.createElement("script");t.id="IndeterminateProgress",t.innerHTML=atob("PGRpdiBjbGFzcz0ic3Bpbm5lciIgcm9sZT0icHJvZ3Jlc3NiYXIiIGFyaWEtdmFsdWVub3c9IjAiIGFyaWEtdmFsdWVtaW49IjAiIGFyaWEtdmFsdWVtYXg9IjEwMCIgYXJpYS1saXZlPSJhc3NlcnRpdmUiDQogICAgIGRhdGEtYmluZD0ibG9jYWxpemVkQXJpYUxhYmVsOidPdmVybGF5X1Byb2dyZXNzSW5kZXRlcm1pbmF0ZUFyaWFMYWJlbCciPg0KICAgIDxkaXYgY2xhc3M9ImJhcjEiPjwvZGl2Pg0KICAgIDxkaXYgY2xhc3M9ImJhcjIiPjwvZGl2Pg0KICAgIDxkaXYgY2xhc3M9ImJhcjMiPjwvZGl2Pg0KICAgIDxkaXYgY2xhc3M9ImJhcjQiPjwvZGl2Pg0KICAgIDxkaXYgY2xhc3M9ImJhcjUiPjwvZGl2Pg0KICAgIDxkaXYgY2xhc3M9ImJhcjYiPjwvZGl2Pg0KICAgIDxkaXYgY2xhc3M9ImJhcjciPjwvZGl2Pg0KICAgIDxkaXYgY2xhc3M9ImJhcjgiPjwvZGl2Pg0KICAgIDxkaXYgY2xhc3M9ImJhcjkiPjwvZGl2Pg0KICAgIDxkaXYgY2xhc3M9ImJhcjEwIj48L2Rpdj4NCjwvZGl2Pg=="),t.type="text/html",document.head.appendChild(t),e.exports={}},38:e=>{const t=document.createElement("script");t.id="LoadingView",t.innerHTML=atob("PGRpdiBpZD0icHJvZ3Jlc3MtY29udHJvbCI+DQogICAgPHNwYW4gY2xhc3M9Im1lc3NhZ2UiIGRhdGEtYmluZD0ibG9jYWxpemVkVGV4dDogJ0xvYWRpbmdEYXRhTWVzc2FnZSciPjwvc3Bhbj4NCiAgICA8IS0tIGtvIHRlbXBsYXRlOiB7IG5hbWU6ICdJbmRldGVybWluYXRlUHJvZ3Jlc3MnIH0gLS0+PCEtLSAva28gLS0+DQo8L2Rpdj4="),t.type="text/html",document.head.appendChild(t),e.exports={}},366:e=>{const t=document.createElement("script");t.id="MessageView",t.innerHTML=atob("PHNwYW4gdGFiSW5kZXg9IjAiIGRhdGEtYmluZD0idGV4dDogJGRhdGEiPjwvc3Bhbj4="),t.type="text/html",document.head.appendChild(t),e.exports={}},453:(e,t,i)=>{var n,r;n=[i,t,i(575)],r=function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CppBuildInsightsColumnSettingsProvider=void 0,t.CppBuildInsightsColumnSettingsProvider=class{constructor(e){this._marshaler=new i.CppBuildInsightsMarshaler,this._templateName=e}getColumnSettings(){return this._marshaler.getColumnSettings(this._templateName)}onColumnChanged(e){this._marshaler.onColumnChanged(this._templateName,e)}}}.apply(t,n),void 0===r||(e.exports=r)},29:(e,t,i)=>{var n;n=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FunctionsViewName=t.IncludedFilesViewName=t.IncludeTreeViewName=t.GetFunctionsDuration=t.GetFunctionsRoots=t.GetIncludedByRoots=t.GetIncludeTreeRoots=t.GetFilesDuration=t.Duration=t.Filter=t.FunctionsViewId=t.IncludeTreeViewId=t.IncludedFilesViewId=t.CppBuildInsightsAnalyzer=void 0,t.CppBuildInsightsAnalyzer=function(){return"0C3438CD-1A87-4514-A49F-EB7D8DF410CF"},t.IncludedFilesViewId=function(){return"C007C832-3112-4993-AD27-8B80638C637C"},t.IncludeTreeViewId=function(){return"7145B9EF-D148-402C-B315-D90D4D37C45D"},t.FunctionsViewId=function(){return"15558F0C-9421-4887-9924-BB3FADD48923"},t.Filter=function(){return"filter"},t.Duration=function(){return"duration"},t.GetFilesDuration=function(){return"getFilesDuration"},t.GetIncludeTreeRoots=function(){return"getIncludeTreeRoots"},t.GetIncludedByRoots=function(){return"getIncludedByRoots"},t.GetFunctionsRoots=function(){return"getFunctionsRoots"},t.GetFunctionsDuration=function(){return"getFunctionsDuration"},t.IncludeTreeViewName=function(){return"IncludeTree"},t.IncludedFilesViewName=function(){return"IncludedFiles"},t.FunctionsViewName=function(){return"Functions"}}.apply(t,[i,t]),void 0===n||(e.exports=n)},309:(e,t,i)=>{var n,r;n=[i,t,i(136)],r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FilterViewModel=void 0,t.FilterViewModel=class{constructor(e=null,t){this._filterText=e,this._watermarkText=t}get filterText(){return this._filterText}set filterText(e){this._filterText=e}get filterWatermark(){return this._watermarkText}onKeyDown(e,t){return"Escape"!==t.code||(this.filterText(""),!1)}}}.apply(t,n),void 0===r||(e.exports=r)},122:(e,t,i)=>{var n,r;n=[i,t,i(28),i(432),i(29),i(881),i(881),i(562),i(117),i(453),i(117),i(881),i(560),i(881),i(575),i(881),i(309),i(38),i(366),i(996)],r=function(e,t,i,n,r,o,s,l,a,u,c,d,g,I,h,C,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFunctionsViewModel=t.FunctionsViewModel=void 0;class m{constructor(){this._marshaler=new h.CppBuildInsightsMarshaler,this._currentOverlay=i.pureComputed((()=>this.computeOverlay())),a.loadDataWarehouse().then((e=>{this._dataWarehouse=e,this._openInWPAButtonViewModel=new C.ToolbarButtonViewModel(void 0,"Button_OpenInWPA","Button_OpenInWPA",(()=>{this.openInWPA()}),void 0),this._settingsButtonViewModel=new C.ToolbarButtonViewModel("settings","Button_Settings","Button_ArialLabel_Settings",(()=>{this.openInWPA()}),void 0);const t=new o.TreeGridHeaderViewModel([{id:"functionName",text:n.Resources.getString("Header_FunctionName"),tooltip:n.Resources.getString("Header_FunctionName"),hideable:!1,sortable:I.SortDirection.Asc},{id:"time",text:n.Resources.getString("Header_Time"),tooltip:n.Resources.getString("Header_Time"),hideable:!1,sortable:I.SortDirection.Desc},{id:"forceinlineSize",text:n.Resources.getString("Header_ForceinlineSize"),tooltip:n.Resources.getString("Header_ForceinlineSize_ToolTip"),hideable:!1,sortable:I.SortDirection.Desc},{id:"project",text:n.Resources.getString("Header_Project"),tooltip:n.Resources.getString("Header_Project"),hideable:!0,sortable:I.SortDirection.Desc},{id:"filePath",text:n.Resources.getString("Header_FilePath"),tooltip:n.Resources.getString("Header_FilePath"),hideable:!0,sortable:I.SortDirection.Desc}],new u.CppBuildInsightsColumnSettingsProvider(r.FunctionsViewName()),l.FunctionsDAO.defaultSortColumnId);this._FunctionsDAO=new l.FunctionsDAO(this._dataWarehouse,t),this._functionsTreeGrid=new s.TreeGridViewModel(this._FunctionsDAO,t,"FunctionsTableAriaLabel"),this._functionsTreeGrid.onResultChanged(0),this._FunctionsDAO.filteredRoots.subscribe((()=>this._functionsTreeGrid.onResultChanged(0))),this._filterviewmodel=new p.FilterViewModel(this._FunctionsDAO.rootFilter,"FunctionsFilterWatermark"),i.applyBindings(this),c.getViewEventManager().detailsViewReady.raiseEvent({Id:r.FunctionsViewId()})}))}get filterViewModel(){return this._filterviewmodel}openInWPA(){return this._marshaler.launchInWPA()}get functionsTreeGrid(){return this._functionsTreeGrid}get currentOverlay(){return this._currentOverlay}get sessionDuration(){return n.Resources.getString("DiagnosticsSession_Label",this._FunctionsDAO.sessionDuration())}get buildDuration(){return n.Resources.getString("Build_Label",this._FunctionsDAO.buildDuration())}get openInWPAButtonViewModel(){return this._openInWPAButtonViewModel}get settingsButtonViewModel(){return this._settingsButtonViewModel}onKeyDown(e,t){if(!t.ctrlKey||t.keyCode!==g.KeyCodes.C)return!0;const i=d.TreeGridUtils.formatTreeGridSelectedToText(this._functionsTreeGrid,!1);return navigator.clipboard.writeText(i),!1}contextMenu(e,t){const i=e;if("number"!=typeof i.id)return null;const r=()=>{this._FunctionsDAO.showSourceFile(i.filePath)},o=[{label:n.Resources.getString("ContextMenu_GoToSourceFile"),callback:()=>r(),type:n.ContextMenu.MenuItemType.command},{label:n.Resources.getString("ContextMenu_Copy"),callback:()=>{const e=d.TreeGridUtils.formatTreeGridSelectedToText(this._functionsTreeGrid);navigator.clipboard.writeText(e)},type:n.ContextMenu.MenuItemType.command},{label:n.Resources.getString("ContextMenu_CopyAsMarkdown"),callback:()=>{const e=d.TreeGridUtils.formatTreeGridSelectedToMarkdown(this._functionsTreeGrid);navigator.clipboard.writeText(e)},type:n.ContextMenu.MenuItemType.command}];return n.ContextMenu.create(o)}computeOverlay(){return this._functionsTreeGrid.dataLoadStatus()===I.DataLoadEvent.DataLoadStart?{name:"LoadingView"}:this._functionsTreeGrid.dataLoadStatus()===I.DataLoadEvent.DataLoadCompleted&&0===this._functionsTreeGrid.treeAsArray().length?{name:"MessageView",data:n.Resources.getString("NoDataMessage"),afterRender:e=>{e[0].setAttribute("aria-live","polite")}}:null}}let A;t.FunctionsViewModel=m,t.getFunctionsViewModel=function(){return A||(A=new m),A}}.apply(t,n),void 0===r||(e.exports=r)},562:(e,t,i)=>{var n,r;n=[i,t,i(28),i(29),i(117),i(505),i(881),i(881)],r=function(e,t,i,n,r,o,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FunctionsDAO=void 0;class a{constructor(e,t){this._allfunctionRows=[],this._rootFilter=i.observable(""),this._sessionDuration=i.observable(),this._buildDuration=i.observable(),this._allFunctions=i.observableArray([]),this._expanded=i.observable(!0),this._dataWarehouse=e,this._dataLoaded=this.loadData(),this._header=t,this._filteredRoots=l.AsyncComputed((()=>(this._allFunctions(),this._rootFilter()&&this._currentResult?this._currentResult.getResult({task:n.Filter(),filter:this._rootFilter()}).then((e=>this._allfunctionRows.filter((t=>t.id in e)))):Promise.resolve(this._allFunctions()))),void 0,[])}static get defaultSortColumnId(){return"time"}get sessionDuration(){return this._sessionDuration}get buildDuration(){return this._buildDuration}get rootFilter(){return this._rootFilter}get expanded(){return this._expanded}get allfunctionRows(){return this._allfunctionRows}getRoots(e,t,i){return this._dataLoaded.then((()=>(this.sort(this._filteredRoots(),t,i),Promise.resolve(this._filteredRoots()))))}loadData(e){return this._dataWarehouse.getFilteredData({customDomain:{resultType:"functions"}},n.CppBuildInsightsAnalyzer()).then((t=>(null==e||e.throwIfCancellationRequested(),t.getResult({task:n.GetFunctionsDuration()}).then((e=>{this._sessionDuration(Number((.001*e.sessionDuration).toFixed(3))),this._buildDuration(Number((.001*e.buildDuration).toFixed(3)))})),this._currentResult&&this._currentResult.dispose(),this._currentResult=t,this._currentResult?this._currentResult.getResult({task:n.GetFunctionsRoots()},e):[]))).then((t=>this.sort(t.map((e=>{const t=new o.FunctionsRowViewModel(null,this,e,0);return this._allfunctionRows.push(t),t})),this._header.sortInfo(),e))).then((e=>{this._allFunctions(e)}))}get filteredRoots(){return this._filteredRoots}get root(){return this._root}expand(e,t,i){return e.expand(this._currentResult,t,i)}search(e,t,i,n,r,o,s){throw new Error("Method not implemented.")}sort(e,t,i){if(!this._currentResult)return Promise.resolve(e);const n=a.SortFunc[t.columnId](t.direction),r=e=>{e.children&&(e.children.sort(n),e.children().forEach(r))};return e.sort(n),e.forEach(r),Promise.resolve(e)}async showSourceFile(e){const t={sourceFile:{path:e},line:0,methodName:""};await r.getSourceFileViewerService().openSourcePosition(t)}}t.FunctionsDAO=a,a.SortFunc={functionName:e=>s.SortFunctions.stringSort("functionName",e),filePath:e=>s.SortFunctions.stringSort("filePath",e),time:e=>s.SortFunctions.numericSort("wctr",e),forceinlineSize:e=>s.SortFunctions.numericSort("forceinlineSize",e),project:e=>s.SortFunctions.stringSort("project",e)}}.apply(t,n),void 0===r||(e.exports=r)},505:(e,t,i)=>{var n,r;n=[i,t,i(28),i(713),i(926)],r=function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FunctionsRowViewModel=void 0;class r{constructor(e,t,n,r){this._selected=i.observable(!1),this._expanded=i.observable(!1),this._children=i.observableArray([]),this._haveLoaded=!1,this._parent=e,this._dao=t,this._dto=n,this._depth=r}get templateName(){return"FunctionsRowView"}get filePath(){return this._dto.filePath}get functionName(){return this._dto.functionName}get wctr(){return.001*this._dto.wctr}get project(){return this._dto.projectName?this._dto.projectName:""}get wctrPercentage(){return n.localizeNumber(this._dto.wctrPercentage,{style:"percent",minimumFractionDigits:1})}get scaledWCTRPercentage(){return 100*this._dto.wctrPercentage}get id(){return this._dto.id}get isHotItem(){return 100*this._dto.wctrPercentage>=10}get depth(){return this._depth}get forceinlineSize(){return this._dto.forceinlineSize}get hasChildren(){return this._dto.forceinlineSize>0&&0===this.depth}get selected(){return this._selected}get expanded(){return this._expanded}get children(){return this._children}get parent(){return this._parent}invoke(){this._dao.showSourceFile(this.filePath)}expand(e,t,i){let n=Promise.resolve();return!this._haveLoaded&&this.hasChildren&&(this._haveLoaded=!0,n=e.getResult({task:"expandFunction",id:this.id},i).then((e=>{null==i||i.throwIfCancellationRequested();const n=e.map((e=>new r(this,this._dao,e,this.depth+1)));return this._dao.sort(n,t)})).then((e=>{this.children(e)}))),this._expanded(!this._expanded()),n}}t.FunctionsRowViewModel=r}.apply(t,n),void 0===r||(e.exports=r)},575:(e,t,i)=>{var n,r;n=[i,t,i(432),i(117)],r=function(e,t,i,n){"use strict";let r;Object.defineProperty(t,"__esModule",{value:!0}),t.CppBuildInsightsMarshaler=void 0,t.CppBuildInsightsMarshaler=class{constructor(){r||(r=i.JSONMarshaler.attachToMarshaledObject("Microsoft.VisualStudio.CppBuildInsightsTool.CppBuildInsightsMarshaler",{},!0)),this._onCrossReferenceEvent=new n.ObservableEvent(r,"onCrossReferenceEvent")}launchInWPA(){return r._call("launchInWPA")}get onCrossReferenceEvent(){return this._onCrossReferenceEvent}crossReference(e){return r._call("crossReference",e)}getColumnSettings(e){return r._call("getColumnSettings",e)}onColumnChanged(e,t){return r._call("onColumnChanged",e,t)}}}.apply(t,n),void 0===r||(e.exports=r)},713:(e,t,i)=>{var n,r;n=[i,t,i(432)],r=function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.localizeNumber=t.areTimespansEqual=t.areBigNumbersEqual=t.numberComparator=void 0;let n={};i.Culture.addEventListener("culturechanged",(()=>{n={}})),t.numberComparator=function(e,t){return e-t},t.areBigNumbersEqual=function(e,t){return!e&&!t||e&&t&&e.h===t.h&&e.l===t.l},t.areTimespansEqual=function(e,t){return!e&&!t||e&&t&&e.equals(t)},t.localizeNumber=function(e,t){const r=JSON.stringify(t||{});let o=n[r];if(!o){const e=new Intl.NumberFormat(i.Culture.formatRegion,t);o=t=>e.format(t),n[r]=o}return o(e)}}.apply(t,n),void 0===r||(e.exports=r)},117:t=>{"use strict";t.exports=e},560:e=>{"use strict";e.exports=t},881:e=>{"use strict";e.exports=i},28:e=>{"use strict";e.exports=n},432:e=>{"use strict";e.exports=require("plugin-vs-v2")}},s={},function e(t){var i=s[t];if(void 0!==i)return i.exports;var n=s[t]={exports:{}};return o[t](n,n.exports,e),n.exports}(122);var o,s}));